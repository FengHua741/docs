---
sidebar_position: 4
sidebar_label: RS232 Firmware Flashing

---

import USBFLASH from '@site/i18n/en/docusaurus-plugin-content-docs/current/General/dfu-flash/_firmware/2040/_rp2.mdx';
import MakeOperate from "/docs/General/klipper-make/_make-operate.mdx";
import RS232 from '@site/i18n/en/docusaurus-plugin-content-docs/current/General/dfu-flash/_firmware/2040/_rs232.mdx';
import SSH from '@site/i18n/en/docusaurus-plugin-content-docs/current/General/dfu-flash/_firmware/_ssh.mdx';
import ImageView from '@site/src/components/ImageView';


import LS from '@site/i18n/en/docusaurus-plugin-content-docs/current/General/dfu-flash/_uf2.mdx';

# RS232 Firmware Compilation

## Start Compilation

    <SSH />

    <MakeOperate/>

    <RS232 />

    * Select GPIO pins to set at micro-controller startup, input: !gpio5 Please note ! is uppercase
        <ImageView image={require('@site/docs/ProductDoc/ToolBoard/fly-sb2040/sb2040-pro-v3/flash/img/rs232.png').default} size="100%" align="center" />
    * Press `Q` key, a **Save configuration** prompt appears, then press `Y` key
    <ImageView image={require('@site/docs/General/dfu-flash/img/configuration.png').default} size="50%" align="center" />
    * Now the configuration should be saved and you should be back at the command line interface
    * Input `make -j4` to start compilation, it may take some time
    <ImageView image={require('@site/docs/General/dfu-flash/img/make.png').default} size="50%" align="center" />
    * The following output indicates successful compilation

        ```bash
        Linking out/klipper.elf
        Creating uf2 file out/klipper.uf2
        ```


## Enter Flash Mode

    :::tip

    Left is the `RESET button`, right is the `BOOT button`

    :::

    * There are two methods to enter DFU mode
    * Method one: With the mainboard completely powered off, hold the BOOT button and connect the data transfer cable to the mainboard and the host computer
    * Method two: Connect the data transfer cable to the mainboard and the host computer, hold the BOOT button and press the RST button, then release the RST button and finally release the BOOT button
    <ImageView image={require('@site/docs/ProductDoc/ToolBoard/fly-sb2040/sb2040-pro-v3/flash/img/boot.png').default} size="100%" align="center" />

## Confirm Entry into Flash Mode

    <LS />


## Flash Firmware
    
    <USBFLASH />


## Confirm Firmware Startup

    * If the firmware starts up normally, the LED will light up
    <ImageView image={require('@site/docs/ProductDoc/ToolBoard/fly-sb2040/sb2040-pro-v3/flash/img/led.png').default} size="100%" align="center" />