---
sidebar_position: 4
sidebar_label: Main Board Wiring
---

import ImageView from '@site/src/components/ImageView';

# Main Board Wiring

## Interface Diagram

### Interface Description

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/interface.png').default} size="50%" align="center" />

----

### Pin Description

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/pin.png').default} size="50%" align="center" />

---

## Power Wiring

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/power.png').default} size="40%" align="center" />
----

## Driver Installation

### Main Board Driver Jumper Settings

* **STEP/DIR Mode.** In this mode, the subdivision is set by using a jumper cap, and the current is adjusted by a potentiometer. The most common driver used in this mode is A4988. For drivers like this, you need to refer to the manufacturer's subdivision configuration table and set the subdivision through the jumper cap.
* **UART Mode.** The most common drivers that use this mode are TMC2208, TMC2209, TMC2226, etc. These drivers can communicate asynchronously with the main controller via UART. You can set the driver's subdivision, operating current, silent mode, etc., by modifying the configuration file.
* **SPI Mode.** The most common drivers that use this mode are TMC5160, TMC2230, etc. These drivers communicate synchronously with the main controller via SPI. Similarly, you can set the driver's subdivision, operating current, silent mode, etc., by modifying the configuration file.

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/drive-dip.png').default} size="40%" align="center" />

----

### Driver Installation

* Before installing the driver, perform the necessary checks to avoid damaging the driver or the main board.
* **FLY Driver:** If the infinite zeroing function is not used, set the DIP switch to position 1; conversely, if the infinite zeroing function is needed, set the DIP switch to ON.

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/fly2209.png').default} size="40%" align="center" />

    :::danger

    * **Note!!! When installing the driver module, ensure the correct insertion direction, i.e., the EN pin should be on the top left corner, otherwise it may damage the driver or even the main board!!! Make sure to attach a heatsink to the driver!!!**

    :::

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/drive-install.png').default} size="40%" align="center" />


----

## Stepper Motor Wiring

:::info
* Regardless of the manufacturer, two-phase stepper motors will ultimately have four wires. Regardless of color, whether black, white, green, yellow, etc., they correspond to four wires. Therefore, we need to group the wires into two groups: A and B.
* For two-phase four-wire stepper motors, we do not need to know which is group A and which is group B; mainly, we just need to identify one group. The motor direction can be adjusted in the configuration.
:::

* In 3D printers, the most commonly used are two-phase four-wire stepper motors. Their principle is as shown in the figure. There are two methods to identify the wire sequence of the stepper motor:
    * Connect any two phase wires together, then turn the motor shaft by hand. If there is significant resistance, then these two wires form a pair. Otherwise, they do not form a pair, and another pair needs to be tested.
    * Use a multimeter set to continuity mode to test any two phase wires of the stepper motor. If they are connected, they form a pair; otherwise, they do not form a pair, and another pair needs to be tested.
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/motor-sch.png').default} size="50%" align="center" />

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/motor.png').default} size="40%" align="center" />

----

## Heater Wiring

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/heater.png').default} size="60%" align="center" />

----

## Bed Wiring

* **AC Bed:** When wiring the solid-state relay, make sure the input and output connections are correct.

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/bed-ac-1.png').default} size="20%" align="center" />
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/bed-ac-2.png').default} size="40%" align="center" />

* **DC Bed:** When connecting the onboard MOS to the DC bed, please pay attention to the power usage. The maximum current for the DC bed should not exceed 10A. If the current exceeds 10A, it is recommended to use an external MOS module to power the bed to avoid irreversible damage to the main board.

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/bed-dc.png').default} size="60%" align="center" />

----

## Thermistor Wiring

### Thermistor Type Introduction

* The wiring method for thermistors is as follows. Please consult the purchasing merchant for the type of thermistor.

* If purchased from fly (as shown below), configure `sensor_type` as: **ATC Semitec 104GT-2**

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/ntc-1.png').default} size="30%" align="center" />

* If it is a conventional NTC 100K (as shown below), configure `sensor_type` as: **Generic 3950**

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/ntc-2.png').default} size="40%" align="center" />
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/ntc-3.png').default} size="40%" align="center" />

----

### Main Board Thermistor Wiring

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/ntc-4.png').default} size="40%" align="center" />
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/ntc-5.png').default} size="40%" align="center" />



----

## Fan Wiring

* **Fan Wiring**

    :::tip

    * MOS needs to be installed

    :::

    * Fan Wiring
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/fan.png').default} size="30%" align="center" />

----

## Limit Switch Wiring

* Limit switches come in normally open (NO) and normally closed (NC) types. In 3D printers, it is generally recommended to use **normally closed (NC)**. This way, if there is a problem with the limit switch circuit, the system will promptly report an error, avoiding unnecessary crashes and damage to the printer.

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/endstop.png').default} size="40%" align="center" />

----

## Leveling Sensor Wiring



### BL-Touch Wiring

* BL-Touch has five wires. The first three wires form the first group, responsible for the sensor's power supply and the probe's deployment and retraction. The second group consists of ground and signal wires, outputting the limit signal. When wiring BL-Touch, carefully verify the wire sequence. Incorrect wiring may permanently damage the sensor and the main board. Wiring method is shown below.

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/bltouch.png').default} size="40%" align="center" />

----

### Klicky Wiring

* Klicky is a third-party leveling sensor that can be made at home with very low cost and stable performance, making it highly cost-effective and recommended. Wiring method is shown below.
* Project Address: [jlas1/Klicky-Probe](https://github.com/jlas1/Klicky-Probe "Project Address, click to jump")

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/klicky.png').default} size="40%" align="center" />

----

### Voron Tap Wiring

* Tap is a z-probe based on the nozzle, suitable for V2 and Trident printer designs. The entire toolhead moves to trigger the optical switch, providing better precision than conventional limit switches and compatible with almost all printing platforms.

    :::warning

    Voron Tap is not recommended to connect to **24V**. Some versions using **24V** have a high probability of burning out the Tap sensor, which is not a problem with the Fly product but a design flaw in Voron Tap. Please be aware!!!

    :::

    :::danger

    Note: 5V and GND cannot be reversed, otherwise the Tap sensor or the main board could be damaged!!!

    :::

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/tap.png').default} size="40%" align="center" />

----

## Connection to Host Computer

* The main board connects to the host computer's USB port via a Type-B interface, or it can connect to the host computer via serial port. Here, only the former is introduced.

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/connect-host.png').default} size="40%" align="center" />

----