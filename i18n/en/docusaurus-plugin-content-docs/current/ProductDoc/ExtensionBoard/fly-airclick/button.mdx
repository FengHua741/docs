---
sidebar_position: 4
sidebar_label: Wireless Connection Configuration
---

import ImageView from '@site/src/components/ImageView';


import Button from "@mui/material/Button";

# Adding a Wireless Button

    :::info Important Note
    * The wireless button requires the battery to be installed, and the battery model is `CR927`
    :::

    * After returning to the home page, click on the `+` in the red box in the image
        <ImageView image={require('@site/docs/ProductDoc/ExtensionBoard/fly-airclick/img/button.png').default} size="80%" align="Center" />
    * After this interface appears, press the wireless button with the installed battery normally
    * The ID of the wireless button will be automatically generated in the red box, and this ID is unique
        <ImageView image={require('@site/docs/ProductDoc/ExtensionBoard/fly-airclick/img/button-1.png').default} size="80%" align="Center" />
    * Enter the name you want for the button in the red box
        <ImageView image={require('@site/docs/ProductDoc/ExtensionBoard/fly-airclick/img/button-2.png').default} size="80%" align="Center" />
    * Click on the first red box, and a second blue box will appear
        <ImageView image={require('@site/docs/ProductDoc/ExtensionBoard/fly-airclick/img/button-3.png').default} size="80%" align="Center" />


    :::danger Notice

    * Custom GCODE and requesting API are controlled via wireless connection
    * Triggering GPIO is controlled via wired connection

    :::

## Custom GCODE
    * To customize `GCODE`, enter the code or macro name you need to execute in the red box, and AirClick will automatically send it to Klipper for execution
        <ImageView image={require('@site/docs/ProductDoc/ExtensionBoard/fly-airclick/img/gcode.png').default} size="80%" align="Center" />

## Request API
    * You can achieve custom macros, emergency stop, Klipper restart, firmware restart, system shutdown, etc.
        <ImageView image={require('@site/docs/ProductDoc/ExtensionBoard/fly-airclick/img/api.png').default} size="80%" align="Center" />

## Trigger GPIO
    * Triggering GPIO requires connecting STM32F072 to Klipper
    * For firmware burning and connection, refer to this document <Button variant="contained" disableElevation href="/docs/ProductDoc/ExtensionBoard/fly-airclick/offline-operation-support">Firmware Burning and Connection</Button>
    * The available IOs are `PB0` to `PB9`, totaling ten IOs. After properly burning the firmware and connecting to Klipper, just configure as follows

        ```cfg
        [mcu AirClick]
        serial: /dev/serial/by-id/usb-Klipper_stm32f072xb_AirClick-if00
        ### Search for USB ID and modify this section

        [gcode_button _test]
        pin: ^!AirClick:PB0
        press_gcode:
            M118 PB0

        [gcode_button _test1]
        pin: ^!AirClick:PB1
        press_gcode:
            M118 PB1

        [gcode_button _test2]
        pin: ^!AirClick:PB2
        press_gcode:
            M118 PB2

        [gcode_button _test3]
        pin: ^!AirClick:PB3
        press_gcode:
            M118 PB3

        [gcode_button _test4]
        pin: ^!AirClick:PB4
        press_gcode:
            M118 PB4

        [gcode_button _test5]
        pin: ^!AirClick:PB5
        press_gcode:
            M118 PB5

        [gcode_button _test6]
        pin: ^!AirClick:PB6
        press_gcode:
            M118 PB6

        [gcode_button _test7]
        pin: ^!AirClick:PB7
        press_gcode:
            M118 PB7

        [gcode_button _test8]
        pin: ^!AirClick:PB8
        press_gcode:
            M118 PB8

        [gcode_button _test9]
        pin: ^!AirClick:PB9
        press_gcode:
            M118 PB9
        ```