---
sidebar_position: 2
---

import ImageView from '@site/src/components/ImageView';

# Firmware Explanation

    :::danger Notice

    * It is best to compile the Klipper firmware using your host machine firmware
    * Using precompiled firmware or different firmware versions can lead to various issues
    * Try not to use modified host machines

    :::

## Special Notes

    :::info Special Notes
    * Most FLY motherboards are pre-flashed with `Katapult` firmware upon factory release
    * FLY motherboards primarily use `Katapult` firmware for flashing `Klipper` firmware
    * The DP5, D5, and D7 motherboards require manual flashing of the corresponding `Katapult` firmware
    * Due to previous firmware impacts, after flashing `Katapult` firmware, if you need to search for the motherboard ID, you must click the motherboard reset twice, otherwise, the firmware cannot be flashed

    :::

## Firmware Compilation Explanation

    :::tip

    * FLY motherboards use Katapult and SD card for flashing the bootloader
    * The advantage of Katapult firmware is that it allows for firmware updates without direct contact with the motherboard
    * The advantage of bootloader firmware is that you don't have to worry about flashing the wrong firmware
    * It is recommended to use `MobaXterm` for firmware configuration; some special SSH software reported by community members may cause compilation failure

    :::

    * Please note that regardless of which firmware you use, ensure correct compilation to avoid issues such as inability to find the printer or the device itself

## Firmware Compilation Explanation

    :::tip
    * Pay attention to selecting the `Enable extra low-level configuration options` option, otherwise, the specific content will not be displayed
    :::

### STM32

    * If configuring `GPIO pins to set at micro-controller startup` during STM32 firmware compilation, please ensure they are in uppercase

### RP2040

    * If configuring `GPIO pins to set at micro-controller startup` during RP2040 firmware compilation, please ensure they are in lowercase

## Firmware Flashing Explanation

    :::danger Notice

    * When flashing `Klipper` firmware via `Katapult` firmware, ensure the device can be found. If the device cannot be found, manually click the motherboard reset twice
    * Do not use methods outside of the tutorial for flashing firmware
    * Check for compilation errors before flashing. Compilation errors will prevent normal firmware flashing

    :::

### Katapult Firmware

    * Solution for flashing a compiled-error firmware using Katapult firmware
    * Click the motherboard reset twice. After resetting, an LED should flash normally
    * Clear the motherboard firmware and then re-flash Katapult firmware

### Bootloader Firmware

    * Solution for flashing a compiled-error firmware using bootloader firmware
    * Re-flash using an SD card
    * If it doesn't work, disconnect power, install the SD card onto the motherboard, and then power on. It should take five seconds to complete the flashing process

---