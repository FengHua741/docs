---
sidebar_position: 4
sidebar_label: 无线连接配置
---
import ImageView from '@site/src/components/ImageView';
import Button from "@mui/material/Button";

# 无线按钮添加

    :::info 重要提示
    * 无线按钮需要将电池安装上，电池型号是`CR927`
    :::

    * 返回首页后点击图中红色框内的`+`
        <ImageView image={require('@site/docs/ProductDoc/ExtensionBoard/fly-airclick/img/button.png').default} size="80%" align="Center" />
    * 出现下方此界面后，正常按一下安装好电池的无线按钮
    * 红色框内会自动生产无线按钮的ID，此ID是唯一的
        <ImageView image={require('@site/docs/ProductDoc/ExtensionBoard/fly-airclick/img/button-1.png').default} size="80%" align="Center" />
    * 红色框内输入你想名为按钮的名称
        <ImageView image={require('@site/docs/ProductDoc/ExtensionBoard/fly-airclick/img/button-2.png').default} size="80%" align="Center" />
    * 点击第一个红色框，会出现第二个蓝色框
        <ImageView image={require('@site/docs/ProductDoc/ExtensionBoard/fly-airclick/img/button-3.png').default} size="80%" align="Center" />



    :::danger 须知

    * 自定义GCODE与请求API是通过无线连接进行控制
    * 触发GPIO是通过有线进行控制

    :::

## 自定义GCODE
    * 自定义`GCODE`，可以在红色框内输入你需要执行的代码或者宏名字， AirClick会自动发送到klipper执行
        <ImageView image={require('@site/docs/ProductDoc/ExtensionBoard/fly-airclick/img/gcode.png').default} size="80%" align="Center" />

## 请求API
    * 可以实现自定义宏、急停、klipper重启、固件重启、关闭系统等
        <ImageView image={require('@site/docs/ProductDoc/ExtensionBoard/fly-airclick/img/api.png').default} size="80%" align="Center" />

## 触发GPIO
    * 触发GPIO需要STM32F072与klipper连接
    * 固件烧录与连接需要查看此文档 <Button variant="contained" disableElevation href="/docs/ProductDoc/ExtensionBoard/fly-airclick/offline-operation-support">固件烧录与连接</Button>
    * 可以使用的IO有`PB0`到`PB9`一共十个IO，正常刷好固件连接Klipper后只需要正常配置即可下方是参考配置
    
        ```cfg
        [mcu AirClick]
        serial: /dev/serial/by-id/usb-Klipper_stm32f072xb_AirClick-if00
        ### 需要搜索USBID后修改此处

        [gcode_button _test]
        pin: ^!AirClick:PB0
        press_gcode:
            M118 PB0

        [gcode_button _test1]
        pin: ^!AirClick:PB1
        press_gcode:
            M118 PB1

        [gcode_button _test2]
        pin: ^!AirClick:PB2
        press_gcode:
            M118 PB2

        [gcode_button _test3]
        pin: ^!AirClick:PB3
        press_gcode:
            M118 PB3

        [gcode_button _test4]
        pin: ^!AirClick:PB4
        press_gcode:
            M118 PB4

        [gcode_button _test5]
        pin: ^!AirClick:PB5
        press_gcode:
            M118 PB5

        [gcode_button _test6]
        pin: ^!AirClick:PB6
        press_gcode:
            M118 PB6

        [gcode_button _test7]
        pin: ^!AirClick:PB7
        press_gcode:
            M118 PB7

        [gcode_button _test8]
        pin: ^!AirClick:PB8
        press_gcode:
            M118 PB8

        [gcode_button _test9]
        pin: ^!AirClick:PB9
        press_gcode:
            M118 PB9
        ```